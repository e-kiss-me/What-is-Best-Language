lang: python
problems:
  - name: helloworld
    source:
      - 1.py
  - name: binarytrees
    source:
      - 1.py
  - name: pidigits
    source:
      - 4.py
source_rename_to: c.py
environments:
  - os: linux
    compiler: cpython
    version: 3.9
    docker: python:3.9
    include:
    include_sub_dir:
    runtime_version_command: python -V
    before_build:
      - rm -r dist
    build: pip3 install pyinstaller && pyinstaller -y -n _app c.py
    after_build:
      - sh -c "sudo chown appveyor -R dist && sudo chmod -R 755 dist"
    out_dir: dist/_app
    run_cmd: _app
  - os: linux
    compiler: pypy
    version: 3.7
    docker: pypy:3.7
    include:
    include_sub_dir: out
    build: cp -a /opt/pypy/ ./out
    out_dir: out
    run_cmd: pypy/bin/pypy3 c.py
